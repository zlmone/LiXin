#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.269
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace LiXinExam.Views.Exampaper
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
    using LiXinLanguage;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
    using LiXinModels.Examination.DBModel;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.4.1.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Exampaper/ExampaperRandom.cshtml")]
    public class ExampaperRandom : System.Web.Mvc.WebViewPage<dynamic>
    {
        public ExampaperRandom()
        {
        }
        public override void Execute()
        {



            
            #line 3 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
  
    Layout = null;
    var model = ViewData["sort"] as List<tbQuestionSort>;
    var deptId = Request.QueryString["deptId"] ?? "0";


            
            #line default
            #line hidden
WriteLiteral(@"
<input type=""hidden"" id=""maxid"" name=""maxid"" value=""1""/>
<div id=""mdiv"">
    <div class=""exam-sel"">
        <input type=""hidden"" name=""random"" value=""1""/>
        <table name=""subdiv"" class=""tab-Form"">
            <tr>
                <td class=""Tit""><span class=""must"">*</span>");


            
            #line 15 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                      Write(Exampaper.qType);

            
            #line default
            #line hidden
WriteLiteral("：</td>\r\n                <td>\r\n                    <select id=\"selQuestionType1\" c" +
"lass=\"span8\" onchange=\" statusChange(1); \">\r\n                        <option val" +
"ue=\"1\">");


            
            #line 18 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Subject);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                        <option value=\"2\">");


            
            #line 19 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Single);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                        <option value=\"3\">");


            
            #line 20 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Multi);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                        <option value=\"4\">");


            
            #line 21 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Judge);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                        <option value=\"5\">");


            
            #line 22 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Fill);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                        <option value=\"6\">");


            
            #line 23 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                     Write(Exampaper.Scene);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n                    </select>\r\n                </td>\r\n            </tr" +
">\r\n            <tr>\r\n                <td class=\"Tit\"><span class=\"must\">*</span>" +
"");


            
            #line 28 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                      Write(Exampaper.qSort);

            
            #line default
            #line hidden
WriteLiteral(@"：</td>
                <td>
                    <input id=""selQuestionSort1"" name=""selQuestionSort1"" type=""hidden"" />
                    <input id=""sortName1"" type=""text"" readonly=""readonly"" disabled=""disabled"" />
                    <input type=""button"" class=""btn btn-co"" value=""选择题库"" onclick="" selectQuestionSort(1); "" />
                </td>
            </tr>
            <tr>
                <td class=""Tit""><span class=""must"">*</span>");


            
            #line 36 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                      Write(Exampaper.qLevel);

            
            #line default
            #line hidden
WriteLiteral("：</td>\r\n                <td>\r\n                    <span>");


            
            #line 38 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                     Write(Question.Question_QuestionManage_EasyLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>
                    <input type=""text"" id=""easyc1"" onkeyup="" verifyInput1(this) "" class=""num"" value=""0"" disabled=""disabled"" />
                    /<input id=""Easy1""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />
                    <span class=""ml10"">");


            
            #line 41 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                  Write(Question.Question_QuestionManage_CommonLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>
                    <input type=""text"" id=""commonc1"" onkeyup="" verifyInput1(this) "" class=""num"" value=""0"" disabled=""disabled"" />
                    /<input id=""Common1""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />
                    <span class=""ml10"">");


            
            #line 44 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                  Write(Question.Question_QuestionManage_HardLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>
                    <input type=""text"" id=""hardc1"" onkeyup="" verifyInput1(this) "" class=""num"" value=""0"" disabled=""disabled"" />
                    /<input id=""Hard1""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />
                </td>
            </tr>
        </table>
        <a id=""delDefault1"" name=""rmlink"" title=""");


            
            #line 50 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral("\" style=\"display: none;\" class=\"icon idel\"></a>\r\n    </div>\r\n</div>\r\n<center clas" +
"s=\"mt10\">\r\n    <input type=\"button\" id=\"addDefault\" value=\"");


            
            #line 54 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                           Write(Exampaper.Add);

            
            #line default
            #line hidden
WriteLiteral("\" class=\"btn btn-co\" />\r\n    <input type=\"button\" id=\"btnRandomAdd\" class=\"btn\" v" +
"alue=\"");


            
            #line 55 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                         Write(Exampaper.Submit);

            
            #line default
            #line hidden
WriteLiteral("\" />\r\n</center> \r\n\r\n<script type=\"text/javascript\">\r\n    //选择题库\r\n    function sel" +
"ectQuestionSort(idi) {\r\n        var openurl = \"/Question/GetQSortTree?deptId=");


            
            #line 61 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                 Write(deptId);

            
            #line default
            #line hidden
WriteLiteral("&divid=\" + idi;\r\n        $.getJSON(openurl + \"&t=\" + new Date(), function(data) {" +
"\r\n            art.dialog({\r\n                title: \"");


            
            #line 64 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                   Write(Question.Question_QuestionManage_SelectSort);

            
            #line default
            #line hidden
WriteLiteral(@""",
                id: ""QueSort"" + idi,
                lock: true,
                fixed: true,
                time: false,
                content: ""<div class='treeview-box span40'><div class='tree-list'>"" + data + ""</div></div>"",
                close: function() {
                    $('#popIframe').hide();
                }
            });
            $(""#navigation"").treeview({
                persist: ""location"",
                collapsed: false,
                unique: false
            });
            $(""#navigation>li>ul>li>div"").each(function () {
                $(this).click();
            });
        });
    }

    function selectSort(sortID, obj, did) {
        if (parseInt(sortID) > 0) {
            $(""#selQuestionSort"" + did).val(sortID);
            $(""#sortName"" + did).val($(obj).text());
            art.dialog.list[""QueSort"" + did].close();
            statusChange(did);
        } else {
            art.dialog({
                title: '");


            
            #line 93 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                   Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                content: \'");


            
            #line 94 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                     Write(Question.Question_QuestionManage_Tip_SelectSort);

            
            #line default
            #line hidden
WriteLiteral(@"',
                width: 200,
                height: 50,
                fixed: true,
                lock: true,
                time: 3
            });
        }
    }

    function statusChange(iq) {
        $.ajax({
            type: ""post"",
            url: '/Exampaper/CheckRandomQuestion?deptId=");


            
            #line 107 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                    Write(deptId);

            
            #line default
            #line hidden
WriteLiteral("&did=\' + iq + \'&qType=\' + $(\"#selQuestionType\" + iq).val() + \'&qSort=\' + $(\"#selQ" +
"uestionSort\" + iq).val() + \'&t=\' + new Date(),\r\n            dataType: \"json\",\r\n " +
"           success: function(data) {\r\n                if (data.Easy > 0) {\r\n    " +
"                $(\"#easyc\" + data.DivId).removeAttr(\"disabled\");\r\n              " +
"      $(\"#Easy\" + data.DivId).val(data.Easy);\r\n                } else {\r\n       " +
"             $(\"#easyc\" + data.DivId).val(\"0\");\r\n                    $(\"#easyc\" " +
"+ data.DivId).attr(\"disabled\", \"disabled\");\r\n                    $(\"#Easy\" + dat" +
"a.DivId).val(0);\r\n                }\r\n                if (data.Common > 0) {\r\n   " +
"                 $(\"#commonc\" + data.DivId).removeAttr(\"disabled\");\r\n           " +
"         $(\"#Common\" + data.DivId).val(data.Common);\r\n                } else {\r\n" +
"                    $(\"#commonc\" + data.DivId).val(\"0\");\r\n                    $(" +
"\"#commonc\" + data.DivId).attr(\"disabled\", \"disabled\");\r\n                    $(\"#" +
"Common\" + data.DivId).val(0);\r\n                }\r\n                if (data.Hard " +
"> 0) {\r\n                    $(\"#hardc\" + data.DivId).removeAttr(\"disabled\");\r\n  " +
"                  $(\"#Hard\" + data.DivId).val(data.Hard);\r\n                } els" +
"e {\r\n                    $(\"#hardc\" + data.DivId).val(\"0\");\r\n                   " +
" $(\"#hardc\" + data.DivId).attr(\"disabled\", \"disabled\");\r\n                    $(\"" +
"#Hard\" + data.DivId).val(0);\r\n                }\r\n            }\r\n        });\r\n   " +
" }\r\n\r\n//验证重复条件\r\n\r\n    function countInstances(mainStr, subStr) {\r\n        var co" +
"unt = 0;\r\n        var offset = 0;\r\n        do {\r\n            offset = mainStr.in" +
"dexOf(subStr, offset);\r\n            if (offset != -1) {\r\n                count++" +
";\r\n                offset += subStr.length;\r\n            }\r\n        } while (off" +
"set != -1);\r\n        return count;\r\n    }\r\n\r\n    function ckque(str) {\r\n        " +
"var tmp = $(\'#mdiv\').find(\'input[name=random]\');\r\n        var eqidss = \"\";\r\n    " +
"    var flag = true;\r\n        for (var g = 0; g < tmp.length; g++) {\r\n          " +
"  if (tmp[g].value != \"\" && tmp[g].value != null) {\r\n                var Questio" +
"nType = \"#selQuestionType\" + tmp[g].value;\r\n                var QuestionSort = \"" +
"#selQuestionSort\" + tmp[g].value;\r\n                var question = $(QuestionType" +
").val() + \"|\" + $(QuestionSort).val();\r\n                eqidss = eqidss + questi" +
"on + \",\";\r\n            }\r\n        }\r\n        if (parseInt(countInstances(eqidss," +
" str)) > 1) {\r\n            flag = false;\r\n        }\r\n        return flag;\r\n    }" +
"\r\n\r\n    //FROM验证\r\n\r\n    function CheckLevel(did) {\r\n        var easyc = $(\"#easy" +
"c\" + did).val();\r\n        var Easy = $(\"#Easy\" + did).val();\r\n        var common" +
"c = $(\"#commonc\" + did).val();\r\n        var Common = $(\"#Common\" + did).val();\r\n" +
"        var hardc = $(\"#hardc\" + did).val();\r\n        var Hard = $(\"#Hard\" + did" +
").val();\r\n        var r = /^[0-9]*[1-9][0-9]*$/;\r\n        var frombool = true;\r\n" +
"        var sosun = 0;\r\n        var zsun = 0;\r\n        if (parseInt(Easy) > 0 ||" +
" parseInt(Common) > 0 || parseInt(Hard) > 0) {\r\n            if (parseInt(Easy) >" +
" 0) {\r\n                if (easyc == null || easyc == \"\" || easyc == 0) {\r\n      " +
"              sosun = sosun + 1;\r\n                } else {\r\n                    " +
"if (!(r.test(easyc)) || parseInt(easyc) > parseInt(Easy)) {\r\n                   " +
"     frombool = false;\r\n                    }\r\n                }\r\n              " +
"  zsun = zsun + 1;\r\n            }\r\n            if (parseInt(Common) > 0) {\r\n    " +
"            if (commonc == null || commonc == \"\" || commonc == 0) {\r\n           " +
"         sosun = sosun + 1;\r\n                } else {\r\n                    if (!" +
"(r.test(commonc)) || parseInt(commonc) > parseInt(Common)) {\r\n                  " +
"      frombool = false;\r\n                    }\r\n                }\r\n             " +
"   zsun = zsun + 1;\r\n            }\r\n            if (parseInt(Hard) > 0) {\r\n     " +
"           if (hardc == null || hardc == \"\" || hardc == 0) {\r\n                  " +
"  sosun = sosun + 1;\r\n                } else {\r\n                    if (!(r.test" +
"(hardc)) || parseInt(hardc) > parseInt(Hard)) {\r\n                        fromboo" +
"l = false;\r\n                    }\r\n                }\r\n                zsun = zsu" +
"n + 1;\r\n            }\r\n            if (parseInt(sosun) >= parseInt(zsun)) {\r\n   " +
"             frombool = false;\r\n            }\r\n        } else {\r\n            fro" +
"mbool = false;\r\n        }\r\n        return frombool;\r\n    }\r\n\r\n    function ckfro" +
"m() {\r\n        var tmp = $(\'#mdiv\').find(\'input[name=random]\');\r\n        var ero" +
"or = \"\";\r\n        for (var g = 0; g < tmp.length; g++) {\r\n            if (tmp[g]" +
".value != \"\" && tmp[g].value != null) {\r\n                var QuestionType = \"#se" +
"lQuestionType\" + tmp[g].value;\r\n                var QuestionSort = \"#selQuestion" +
"Sort\" + tmp[g].value;\r\n\r\n                if ($(QuestionType).val() != \"\" && $(Qu" +
"estionSort).val() != \"\" && $(QuestionType).val() != null && $(QuestionSort).val(" +
") != null) {\r\n                    var que = $(QuestionType).val() + \"|\" + $(Ques" +
"tionSort).val();\r\n                    if (!ckque(que)) {\r\n                      " +
"  eroor = \"请不要选择重复的组卷条件\";\r\n                    } else {\r\n                       " +
" if (!CheckLevel(tmp[g].value)) {\r\n                            eroor = \"难度填写有误\";" +
"\r\n                        }\r\n                    }\r\n                } else {\r\n  " +
"                  eroor = \"请填写组卷条件\";\r\n                }\r\n            }\r\n        " +
"}\r\n        return eroor;\r\n    }\r\n\r\n//添加\r\n\r\n    function insert(numid) {\r\n       " +
" var QuestionType = \"#selQuestionType\" + numid;\r\n        var QuestionSort = \"#se" +
"lQuestionSort\" + numid;\r\n        if ($(\"#sortName\" + numid).val() != \"\" && $(\"#s" +
"ortName\" + numid).val() != null) {\r\n            var que = $(QuestionType).val() " +
"+ \"|\" + $(QuestionSort).val();\r\n            if (ckque(que)) {\r\n                i" +
"f (CheckLevel(numid)) {\r\n                    $(\"#delDefault\" + numid).show();\r\n " +
"                   var mid = parseInt(numid) + 1;\r\n                    var liHTM" +
"L = \'<div class=\"exam-sel\"><input type=\"hidden\" name=\"random\" value=\"\' + mid + \'" +
"\"/><table class=\"tab-Form\" name=\"subdiv\">\';\r\n                    liHTML += \'<tr>" +
"\';\r\n                    liHTML += \'<td class=\"Tit\"><span class=\"must\">*</span>");


            
            #line 262 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                     Write(Exampaper.qType);

            
            #line default
            #line hidden
WriteLiteral("：</td>\';\r\n                    liHTML += \'<td><select id=\"selQuestionType\' + mid +" +
" \'\" class=\"span8\" onchange=\"statusChange(\' + mid + \');\">\';\r\n                    " +
"liHTML += \'<option value=\"1\">");


            
            #line 264 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Subject);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'<option value=\"2\">");


            
            #line 265 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Single);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'<option value=\"3\">");


            
            #line 266 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Multi);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'<option value=\"4\">");


            
            #line 267 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Judge);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'<option value=\"5\">");


            
            #line 268 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Fill);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'<option value=\"6\">");


            
            #line 269 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                            Write(Exampaper.Scene);

            
            #line default
            #line hidden
WriteLiteral("</option>\';\r\n                    liHTML += \'</select></td></tr><tr>\';\r\n          " +
"          liHTML += \'<td class=\"Tit\"><span class=\"must\">*</span>");


            
            #line 271 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                     Write(Exampaper.qSort);

            
            #line default
            #line hidden
WriteLiteral(@"：</td><td>';
                    liHTML += '<input id=""selQuestionSort' + mid + '"" name=""selQuestionSort' + mid + '"" type=""hidden"" />';
                    liHTML += '<input id=""sortName' + mid + '"" type=""text"" disabled=""disabled"" readonly=""readonly"" value="""" />';
                    liHTML += ' <input type=""button"" class=""btn btn-co"" value=""选择题库"" onclick=""selectQuestionSort(' + mid + ');""/>';
                    liHTML += '</td></tr><tr>';
                    liHTML += '<td class=""Tit""><span class=""must"">*</span>");


            
            #line 276 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                     Write(Exampaper.qLevel);

            
            #line default
            #line hidden
WriteLiteral("：</td>\';\r\n                    liHTML += \'<td><span>");


            
            #line 277 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                    Write(Question.Question_QuestionManage_EasyLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>';
                    liHTML += '<input type=""text"" id=""easyc' + mid + '"" onkeyup=""verifyInput1(this)"" value=""0"" class=""num"" disabled=""disabled"" />';
                    liHTML += '/<input id=""Easy' + mid + '""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />';
                    liHTML += '<span class=""ml10"">");


            
            #line 280 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                             Write(Question.Question_QuestionManage_CommonLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>';
                    liHTML += '<input type=""text"" id=""commonc' + mid + '"" onkeyup=""verifyInput1(this)"" value=""0"" class=""num"" disabled=""disabled"" />';
                    liHTML += '/<input id=""Common' + mid + '""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />';
                    liHTML += '<span class=""ml10"">");


            
            #line 283 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                             Write(Question.Question_QuestionManage_HardLevel);

            
            #line default
            #line hidden
WriteLiteral(@"：</span>';
                    liHTML += '<input type=""text"" id=""hardc' + mid + '"" onkeyup=""verifyInput1(this)"" value=""0"" class=""num"" disabled=""disabled"" />';
                    liHTML += '/<input id=""Hard' + mid + '""  type=""text"" readonly=""readonly"" value=""0"" class=""num total"" />';
                    liHTML += '</td></tr></table>';
                    liHTML += '<a id=""delDefault' + mid + '"" name=""rmlink"" title=""");


            
            #line 287 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                             Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral(@""" class=""icon idel""></a>';
                    liHTML += '</div>';
                    $(""#mdiv"").append(liHTML);
                    var max = 0;
                    $('#mdiv').find('input[name=random]').each(function() {
                        var id = parseInt($(this).val());
                        if (id > max) {
                            max = id;
                        }
                    });
                    $(""#maxid"").val(max);
                    // 为新元素节点添加事件侦听器
                    bindListener();
                    document.getElementById(""mdiv"").scrollTop = document.getElementById(""mdiv"").scrollHeight;
                } else {
                    art.dialog.tips(""难度填写有误"", 3);
                    //art.dialog({ title: '");


            
            #line 303 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                      Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: \"难度填写有误\", width: 400, height: 100, fixed: true, lock: true, time: 3 }" +
");\r\n                }\r\n            } else {\r\n                art.dialog.tips(\"请不" +
"要选择重复的组卷条件\", 3);\r\n                //art.dialog({ title: \'");


            
            #line 307 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                  Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: \"请不要选择重复的组卷条件\", width: 400, height: 100, fixed: true, lock: true, tim" +
"e: 3 });\r\n            }\r\n        } else {\r\n            art.dialog.tips(\"请选择题库\", " +
"3);\r\n            //art.dialog({ title: \'");


            
            #line 311 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                              Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral(@"', content: ""请选择题库"", width: 400, height: 100, fixed: true, lock: true, time: 3 });
        }
    }

    //删除

    function bindListener() {
        $(""a[name=rmlink]"").unbind().click(function() {
            var tmpid = $('#mdiv').find('input[name=random]');
            if (tmpid.length > 1) {
                $(this).parent().remove();
                var max = 0;
                $('#mdiv').find('input[name=random]').each(function() {
                    var id = parseInt($(this).val());
                    if (id > max) {
                        max = id;
                    }
                });
                $(""#maxid"").val(max);
            } else {
                art.dialog.tips(""必须保留一项"", 3);
                //art.dialog({ title: '");


            
            #line 332 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                  Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: \"必须保留一项\", width: 200, height: 100, fixed: true, lock: true, time: 3 }" +
");\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    $(document).ready(function() {\r\n " +
"       bindListener();\r\n\r\n        $(\"#addDefault\").bind(\"click\", function() {\r\n " +
"           var maxid = $(\"#maxid\").val();\r\n            insert(maxid);\r\n        }" +
");\r\n\r\n        $(\"#btnRandomAdd\").bind(\"click\", function() {\r\n            if (ckf" +
"rom() == \"\") {\r\n                var tmp = $(\'#mdiv\').find(\'input[name=random]\');" +
"\r\n                var eqids = \"\";\r\n                for (var g = 0; g < tmp.lengt" +
"h; g++) {\r\n                    if (tmp[g].value != \"\") {\r\n                      " +
"  var QuestionType = \"#selQuestionType\" + tmp[g].value;\r\n                       " +
" var QuestionSort = \"#selQuestionSort\" + tmp[g].value;\r\n                        " +
"if ($(QuestionType).val() != \"\" && $(QuestionSort).val() != \"\" && $(QuestionType" +
").val() != null && $(QuestionSort).val() != null) {\r\n                           " +
" var easy = $(\"#easyc\" + tmp[g].value).val() == \"\" || $(\"#easyc\" + tmp[g].value)" +
".val() == null ? \"0\" : $(\"#easyc\" + tmp[g].value).val();\r\n                      " +
"      var common = $(\"#commonc\" + tmp[g].value).val() == \"\" || $(\"#commonc\" + tm" +
"p[g].value).val() == null ? \"0\" : $(\"#commonc\" + tmp[g].value).val();\r\n         " +
"                   var hard = $(\"#hardc\" + tmp[g].value).val() == \"\" || $(\"#hard" +
"c\" + tmp[g].value).val() == null ? \"0\" : $(\"#hardc\" + tmp[g].value).val();\r\n    " +
"                        var question = $(QuestionType).val() + \"|\" + $(QuestionS" +
"ort).val() + \"|\" + easy + \"|\" + common + \"|\" + hard;\r\n                          " +
"  eqids = eqids + question + \",\";\r\n                        }\r\n                  " +
"  }\r\n                }\r\n                if (eqids != \"\") {\r\n                    " +
"$.ajax({\r\n                        type: \"post\",\r\n                        url: \"/" +
"Exampaper/GetRandomQuestion?deptId=");


            
            #line 366 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                              Write(deptId);

            
            #line default
            #line hidden
WriteLiteral(@"&randonid="" + eqids + ""&t="" + new Date(),
                        dataType: ""json"",
                        success: function(data) {
                            var strhtml = '';
                            var rete = 0;
                            var datelist = data.Data;
                            for (var i = 1; i <= datelist.length; i++) {
                                var Juid = ""QuestionID"" + datelist[i - 1]._id;
                                //判断题库是否存在
                                if (document.getElementById(Juid) == null) {
                                    strhtml += '<div class=""QSingle"" id=""QuestionID' + datelist[i - 1]._id + '"">';
                                    strhtml += '<input type=""hidden"" name=""' + datelist[i - 1].QuestionType + '"" value=""' + datelist[i - 1]._id + '|' + datelist[i - 1].QuestionType + '""/>';
                                    strhtml += '<div class=""title""><div class=""info""><input id=""Order' + datelist[i - 1]._id + '"" readonly=""true"" type=""text"" name=""Order' + datelist[i - 1]._id + '""  value=""' + i + '"" maxlength=""3"" />.';
                                    strhtml += '[ <input id=""Score' + datelist[i - 1]._id + '"" type=""text"" name=""Score' + datelist[i - 1]._id + '"" readonly=""true"" value=""1"" onkeyup=""verifyInput(this)"" maxlength=""3"" /> ");


            
            #line 379 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                                                                                                                                                                     Write(Exampaper.Fen);

            
            #line default
            #line hidden
WriteLiteral(" ]</div>\';\r\n                                    strhtml += \'<h5>\' + datelist[i - " +
"1].QuestionContent + \'<div class=\"do\"><a href=\"#");


WriteLiteral("@\" onclick=\"Delete(\' + datelist[i - 1]._id + \')\" title=\"");


            
            #line 380 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                                                                                                                         Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral(@""" class=""icon idel""></a></div></h5></div>';
                                    strhtml += '<div class=""content"">';
                                    switch (datelist[i - 1].QuestionType) {
                                    case 1:
                                        strhtml += '<textarea class=""Boxarea"" disabled=""disabled"" ></textarea>';
                                        break;
                                    case 2:
                                        for (var j = 0; j < datelist[i - 1].QuestionAnswer.length; j++) {
                                            strhtml += '<div><input type=""radio""  disabled=""disabled"" />' + String.fromCharCode((65 + j)) + '.' + datelist[i - 1].QuestionAnswer[j].Answer + '</div>';
                                        }
                                        break;
                                    case 3:
                                        for (var k = 0; k < datelist[i - 1].QuestionAnswer.length; k++) {
                                            strhtml += '<div><input type=""checkbox"" disabled=""disabled"" />' + String.fromCharCode((65 + k)) + '.' + datelist[i - 1].QuestionAnswer[k].Answer + '</div>';
                                        }
                                        break;
                                    case 4:
                                        strhtml += '<div><input type=""radio"" disabled=""disabled"" /><label>");


            
            #line 397 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                                                     Write(Exampaper.eTrue);

            
            #line default
            #line hidden
WriteLiteral("</label></div>\';\r\n                                        strhtml += \'<div><input" +
" type=\"radio\" disabled=\"disabled\" /><label>");


            
            #line 398 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                                                                     Write(Exampaper.eFalse);

            
            #line default
            #line hidden
WriteLiteral("</label></div>\';\r\n                                        break;\r\n               " +
"                     case 6:\r\n                                        if (dateli" +
"st[i - 1].QuestionAnswer[0].AnswerType == 0) {\r\n                                " +
"            strhtml += \'<textarea class=\"Boxarea\" disabled=\"disabled\" ></textare" +
"a>\';\r\n                                        } else if (datelist[i - 1].Questio" +
"nAnswer[0].AnswerType == 1) {\r\n                                            for (" +
"var q = 0; q < datelist[i - 1].QuestionAnswer.length; q++) {\r\n                  " +
"                              strhtml += \'<div><input type=\"radio\" disabled=\"dis" +
"abled\" />\' + String.fromCharCode((65 + q)) + \'.\' + datelist[i - 1].QuestionAnswe" +
"r[q].Answer + \'</div>\';\r\n                                            }\r\n        " +
"                                } else {\r\n                                      " +
"      for (var y = 0; y < datelist[i - 1].QuestionAnswer.length; y++) {\r\n       " +
"                                         strhtml += \'<div><input type=\"checkbox\"" +
" disabled=\"disabled\" />\' + String.fromCharCode((65 + y)) + \'.\' + datelist[i - 1]" +
".QuestionAnswer[y].Answer + \'</div>\';\r\n                                         " +
"   }\r\n                                        }\r\n                               " +
"         break;\r\n                                    }\r\n                        " +
"            strhtml += \'</div></div>\';\r\n                                } else {" +
"\r\n                                    rete = parseInt(rete) + 1;\r\n              " +
"                  }\r\n                            }\r\n                            " +
"$(\"#divExamQuestions\").append(strhtml);\r\n                            order();\r\n " +
"                           StatType();\r\n                            Score();\r\n  " +
"                          statID();\r\n                            qtype();\r\n     " +
"                       upScore();\r\n                            if (rete > 0) {\r\n" +
"                                art.dialog.tips(\"存在重复试题自动过滤\", 3);\r\n             " +
"                   //art.dialog({ title: \'");


            
            #line 428 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                                  Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral(@"', content: ""存在重复试题自动过滤"", width: 400, height: 100, fixed: true, lock: true, time: 3 });
                            }
                            art.dialog.list['ExamRan'].close();
                        },
                        error: function(XMLHttpRequest, textStatus, errorThrown) {
                            art.dialog.tips(errorThrown, 3);
                            //art.dialog({ title: '");


            
            #line 434 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                              Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral(@"', content: errorThrown, width: 400, height: 100, fixed: true, lock: true, time: 3 });
                        }
                    });
                }
            } else {
                var error = ckfrom();
                art.dialog.tips(error, 3);
                //art.dialog({ title: '");


            
            #line 441 "..\..\Views\Exampaper\ExampaperRandom.cshtml"
                                  Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: error, width: 400, height: 100, fixed: true, lock: true, time: 3 });\r" +
"\n            }\r\n        });\r\n\r\n    });\r\n</script>");


        }
    }
}
#pragma warning restore 1591
