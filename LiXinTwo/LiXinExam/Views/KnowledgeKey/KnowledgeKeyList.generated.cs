#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.269
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace LiXinExam.Views.KnowledgeKey
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    
    #line 1 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
    using System.Web.Mvc.Html;
    
    #line default
    #line hidden
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
    using LiXinLanguage;
    
    #line default
    #line hidden
    
    #line 3 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
    using LiXinModels.User;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.4.1.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/KnowledgeKey/KnowledgeKeyList.cshtml")]
    public class KnowledgeKeyList : System.Web.Mvc.WebViewPage<dynamic>
    {
        public KnowledgeKeyList()
        {
        }
        public override void Execute()
        {




            
            #line 4 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
  
    ViewBag.Title = NavigateMenuLanguage.KnowledgeKeyManage;
    Layout = "~/Views/Shared/_Layout.cshtml";
    var depList = ViewBag.Departments as List<Sys_Department>;


            
            #line default
            #line hidden
WriteLiteral("<div class=\"main-c\">\r\n    ");


            
            #line 10 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
Write(Html.Action("SiteMapLink", "Common", new { linkName = ViewBag.Flag == 0 ? "KnowledgeKeyManage" : "DepKnowledgeKeyManage" }));

            
            #line default
            #line hidden
WriteLiteral(@"
    <div class=""so-set"">
        <input type=""hidden"" id=""selectDeptID"" value=""0""/>
        <table class=""tab-Form"">
            <tr>
                <td class=""Tit span6"">知识点名称： </td>
                <td class=""span20""><input type=""text"" class=""span21 Box searchclass"" id=""searchName"" value=""请输入搜索内容"" info=""""/></td>
");


            
            #line 17 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                  
                    if (ViewBag.Flag ==1)
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <td class=\"Tit span6\">所管部门：</td>\r\n");



WriteLiteral("                        <td>\r\n                            \r\n                     " +
"       <select id=\"deptList\">\r\n");


            
            #line 24 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                                  
                                    foreach (var de in depList)
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <option value=\"");


            
            #line 27 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                                                   Write(de.DepartmentId);

            
            #line default
            #line hidden
WriteLiteral("\">");


            
            #line 27 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                                                                       Write(de.DeptName);

            
            #line default
            #line hidden
WriteLiteral("</option>\r\n");


            
            #line 28 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                                    }
                                

            
            #line default
            #line hidden
WriteLiteral("                            </select>\r\n                        </td>\r\n");


            
            #line 32 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                    }
                

            
            #line default
            #line hidden
WriteLiteral("                <td class=\"so-do\">\r\n                    <input class=\"btn\" type=\"" +
"button\" value=\"搜索\" id=\"btnSearch\"/>\r\n                    <input class=\"btn btn-c" +
"o\" type=\"button\" id=\"btnAddKey\" value=\"新增知识点\"/>\r\n                </td>\r\n        " +
"    </tr>\r\n        </table>\r\n    </div>\r\n    <div class=\"mt10\">\r\n        <table " +
"class=\"tab-List\">\r\n            <thead>\r\n                <tr>\r\n                  " +
"  <th class=\"span4\">序号</th>\r\n                    <th class=\"span21\">知识点名称</th>\r\n" +
"                    <th>描述</th>\r\n                    <th class=\"span10\">试题数量</th" +
">\r\n                    <th class=\"span8\">操作</th>\r\n                </tr>\r\n       " +
"     </thead>\r\n            <tbody id=\"keyList\"></tbody>\r\n            <tfoot></tf" +
"oot>\r\n        </table>\r\n     </div>\r\n</div>\r\n<script id=\"keyListTemplate\" type=\"" +
"text/x-jsrender\">\r\n    {{for #data}}\r\n    <tr>\r\n        <td>{{:#index+1}}</td>\r\n" +
"        <td style=\"text-align:left;\"><div class=\"ovh span20\" title=\"{{:KeyName}}" +
"\" >{{:KeyName}}</div></td>\r\n        <td style=\"text-align:left;\"><div class=\"ovh" +
" span30\" title=\"{{html:KeyDescription}}\">{{html:KeyDescription}}</div></td>\r\n   " +
"     <td class=\"tc c_green f14\"><strong>{{:Number}}</strong></td>\r\n        <td c" +
"lass=\"tc\">\r\n            <div class=\"do\">\r\n                <a class=\"icon iedit\" " +
"onclick=\"EditKey({{:_id}});\" title=\"编辑\"></a>\r\n                <a class=\"icon ide" +
"l\" onclick=\"DeleteKey({{:_id}},this);\" title=\"删除\"></a>\r\n            </div>\r\n    " +
"    </td>\r\n    </tr>\r\n    {{/for}}\r\n</script>\r\n\r\n<script type=\"text/javascript\">" +
"\r\n    $(document).ready(function () {\r\n        //初始化查询条件\r\n        initSearch();\r" +
"\n\r\n        //当部门分所时，初始化部门\r\n        if (");


            
            #line 80 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
        Write(ViewBag.Flag);

            
            #line default
            #line hidden
WriteLiteral(" ==1 && $(\"#deptList option\").length > 0) {\r\n            $(\"#selectDeptID\").val($" +
"(\"#deptList option:first\").attr(\"value\"));\r\n        }\r\n\r\n        //添加知识点\r\n      " +
"  $(\"#btnAddKey\").bind(\"click\", function() {\r\n            EditKey(0);\r\n        }" +
");\r\n\r\n        //查询\r\n        $(\"#btnSearch\").bind(\"click\", function() {\r\n        " +
"    InitData();\r\n        });\r\n        \r\n        //部门下拉框事件\r\n        $(\"#deptList\"" +
").bind(\"change\", function() {\r\n            $(\"#selectDeptID\").val($(this).val())" +
";\r\n            InitData();\r\n        });\r\n        \r\n        //加载列表\r\n        InitD" +
"ata();\r\n    });\r\n    //大小图切换\r\n\r\n    function changeView(str) {\r\n        ChangeLi" +
"st({ str: str, fun: function() { InitData(); } });\r\n    }\r\n\r\n    function String" +
"As(string) {  \r\n    return \'\"\' + string.replace(/(\\\\|\\\"|\\n|\\r|\\t)/g, \"\\\\$1\") + \'" +
"\"\';  \r\n    }  \r\n\r\n\r\n    //初始化列表\r\n\r\n    function InitData() {\r\n        $(\"#keyLis" +
"t\").JsRenderData({\r\n            sourceUrl: \'/KnowledgeKey/GetAllKnowledgeKeys?ke" +
"yName=\' + escape($.trim(getSearchWord(\"searchName\"))) + \'&deptId=\'+$(\"#selectDep" +
"tID\").val() + \'&t=\' + new Date(),\r\n            isPage: true,\r\n            pageSi" +
"ze: 10,\r\n            pageIndex: 1,\r\n            templateID: \'keyListTemplate\'\r\n " +
"       });\r\n    }\r\n\r\n    //编辑知识点\r\n\r\n    function EditKey(id) {\r\n        art.dial" +
"og.load(\'/KnowledgeKey/DepEditKnowledgeKey?id=\' + id + \'&t=\' + new Date(),{ titl" +
"e: \'编辑知识点\', id: \'EditKnow\',width: 500});\r\n    }\r\n\r\n    //删除知识点\r\n\r\n    function D" +
"eleteKey(id, obj) {\r\n        art.dialog({\r\n            title: \"");


            
            #line 136 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
               Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            content: \"");


            
            #line 137 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                 Write(CommonLanguage.Common_Confirm_Delete);

            
            #line default
            #line hidden
WriteLiteral("\",\r\n            width: 300,\r\n            okValue: \'");


            
            #line 139 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                 Write(CommonLanguage.Common_Sure);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n            cancelValue: \'");


            
            #line 140 "..\..\Views\KnowledgeKey\KnowledgeKeyList.cshtml"
                     Write(CommonLanguage.Common_Cancel);

            
            #line default
            #line hidden
WriteLiteral(@"',
            height: 50,
            fixed: true,
            lock: true,
            ok: function() {
                $.getJSON(""/KnowledgeKey/DeleteKey?id="" + id, function(data) {
                    if (data.result == 0)
                        art.dialog.tips(data.content, 3);
                    else {
                        InitData();
                    }
                });
            },
            cancel: function() {
            }
        });
    }
</script>");


        }
    }
}
#pragma warning restore 1591
