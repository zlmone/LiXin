#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.544
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace LiXinExam.Views.Question
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
    using LiXinLanguage;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
    using LiXinModels.Examination.DBModel;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.3.2.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Question/QuestionFillblankEdit.cshtml")]
    public class QuestionFillblankEdit : System.Web.Mvc.WebViewPage<dynamic>
    {
        public QuestionFillblankEdit()
        {
        }
        public override void Execute()
        {



            
            #line 3 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
  
    Layout = null;
    Response.Expires = 0;
    string id = Request.QueryString["id"];
    var questonInfor = ViewData["QuestionInfor"] as List<QuestionAnswer>;
    var baseInfor = ViewData["BaseInfor"] as tbQuestion;


            
            #line default
            #line hidden


WriteLiteral("\r\n<table class=\"tab-Form\">\r\n    <tr>\r\n        <td class=\"Tit all15\"><span title=\"" +
"必填项\" class=\"must\">*</span>");


            
            #line 13 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                Write(Question.Question_QuestionManage_QuestionContent);

            
            #line default
            #line hidden
WriteLiteral("：</td>\r\n        <td>\r\n            <div class=\"charleft originalTextareaInfo mb5\">" +
"( ");


            
            #line 15 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                         Write(Question.Question_QuestionManage_FillBlankTip);

            
            #line default
            #line hidden
WriteLiteral(" <span class=\"red\">\"()\"</span> )</div>\r\n            <div><textarea id=\"txtQuestio" +
"nContent\"  class=\"all80\" name=\"txtQuestionContent\" isType=\"text\" isnull=\"0\" mess" +
"age=\"");


            
            #line 16 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                         Write(Question.Question_QuestionManage_QueationContentNotNull);

            
            #line default
            #line hidden
WriteLiteral("\">");


            
            #line 16 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                                                                    Write(baseInfor.QuestionContent);

            
            #line default
            #line hidden
WriteLiteral("</textarea></div>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td class=\"Tit\"><s" +
"pan title=\"必填项\" class=\"must\">*</span>");


            
            #line 20 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                          Write(Question.Question_QuestionManage_RightAnswer);

            
            #line default
            #line hidden
WriteLiteral("：</td>\r\n        <td>\r\n            <p>\r\n                <input id=\"btnAddRightAnsw" +
"er\" type=\"button\" class=\"btn btn-co\" value=\"");


            
            #line 23 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                 Write(Question.Question_QuestionManage_AddRightAnswer);

            
            #line default
            #line hidden
WriteLiteral("\"/>\r\n                <span class=\"charleft originalTextareaInfo\">");


            
            #line 24 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                       Write(Question.Question_QuestionManage_BtnAddRightAnswer);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n            </p>\r\n            <input type=\"hidden\" id=\"txtQuestionAnswer" +
"\" name=\"txtQuestionAnswer\"/>\r\n            <div id=\"rightAnswerList\" class=\"seled" +
"-list\" style=\"width:70%;\">\r\n");


            
            #line 28 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                  
                    if (baseInfor._id > 0)
                    {
                        QuestionAnswer answer = questonInfor.FirstOrDefault();
                        if (answer != null)
                        {
                            foreach (string an in answer.Answer.Split(new[] {"!!%%!!"}, StringSplitOptions.RemoveEmptyEntries))
                            {

            
            #line default
            #line hidden
WriteLiteral("                                <div><span title=\"必填项\" class=\"must\">*</span><inpu" +
"t class=\"all70\" type=\"text\" isType=\"text\" value=\"");


            
            #line 36 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                             Write(an);

            
            #line default
            #line hidden
WriteLiteral("\" isnull=\"0\"  message=\"");


            
            #line 36 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                                       Write(Question.Question_QuestionManage_ItemContentNotNull);

            
            #line default
            #line hidden
WriteLiteral("\"/><a class=\"fr icon idel mt5\" title=\"");


            
            #line 36 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                                                                                                                                 Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral("\" onclick=\" deleteAnswer(this); \"></a></div>\r\n");


            
            #line 37 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                            }
                        }
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div><span title=\"必填项\" class=\"must\">*</span><input class=" +
"\"all70\" type=\"text\" isType=\"text\" value=\"\" isnull=\"0\" message=\"");


            
            #line 42 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                           Write(Question.Question_QuestionManage_ItemContentNotNull);

            
            #line default
            #line hidden
WriteLiteral("\"/><a class=\"fr icon idel mt5\" title=\"");


            
            #line 42 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                                                                                                                     Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral("\" onclick=\" deleteAnswer(this); \"></a></div>\r\n");


            
            #line 43 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                    }
                

            
            #line default
            #line hidden
WriteLiteral(@"            </div>
        </td>
    </tr>
    <tr>
        <td class=""Tit""><span title=""必填项"" class=""must"">*</span>关键词：</td>
        <td><p class=""charleft originalTextareaInfo mb5"">(每个空格对应一个关键词，每个关键词之间用空格隔开，如: AA BB CC )</p>
        <input id=""txtQuestionAnswerKeys"" type=""text"" class=""all80"" name=""txtQuestionAnswerKeys"" isType=""text"" isnull=""0"" maxlength=""30"" onkeydown="" TextearaMaxlength(this); "" onkeyup="" TextearaMaxlength(this); "" onpropertychange=""TextearaMaxlength(this);"" message=""试题关键字不可以为空"" value=""");


            
            #line 51 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                                                                                                                                                                         Write(id == "0" ? "" : baseInfor.QuestionAnswerKeys);

            
            #line default
            #line hidden
WriteLiteral("\" />\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td class=\"Tit\">试题解析：</td>\r\n   " +
"     <td><textarea id=\"txtQuestionAnalysis\" class=\"all80\" name=\"txtQuestionAnaly" +
"sis\" message=\"试题解析不可以为空\">");


            
            #line 56 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                        Write(id == "0" ? "" : baseInfor.QuestionAnalysis);

            
            #line default
            #line hidden
WriteLiteral(@"</textarea></td>
    </tr>
</table>

<script type=""text/javascript"">
    $(document).ready(function() {
        $(""#submitQuestionForm"").PreCheckForm();
        $(""#btnAddRightAnswer"").bind(""click"", function() {
            $(""#rightAnswerList"").append('<div>' +
                '<span title=""必填项"" class=""must"">*</span><input type=""text"" class=""all70"" isType=""text"" value="""" isnull=""0"" maxlength=""50"" message=""");


            
            #line 65 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                                                                                              Write(Question.Question_QuestionManage_ItemContentNotNull);

            
            #line default
            #line hidden
WriteLiteral("\"/>\' +\r\n                \'<a class=\"fr icon idel mt5\" title=\"");


            
            #line 66 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                               Write(CommonLanguage.Common_Delete);

            
            #line default
            #line hidden
WriteLiteral("\" onclick=\"deleteAnswer(this);\"></a>\' +\r\n                \'</div>\'\r\n            );" +
"\r\n            $(\"#submitQuestionForm\").PreCheckForm();\r\n        });\r\n    });\r\n\r\n" +
"    //删除选项\r\n\r\n    function deleteAnswer(obj) {\r\n        $(obj).parent().remove()" +
";\r\n    }\r\n\r\n    //判断信息是否完整\r\n\r\n    function isCheck() {\r\n        $(\"#tempContent\"" +
").html(editor.getContent().replace(/<[^>].*?>/g, \"\"));\r\n        var newStr = $(\"" +
"#tempContent\").text().trim().replace(/\\（/g, \'(\').replace(/\\（/g, \'(\').replace(/\\（" +
"/g, \'(\').replace(/\\）/g, \')\').replace(/\\）/g, \')\').replace(/\\）/g, \')\');\r\n        \r" +
"\n        var delStr = newStr;\r\n        while (delStr.indexOf(\"()\") >= 0) {\r\n    " +
"        delStr = delStr.replace(\"()\", \" \");\r\n        }\r\n        if (newStr.lengt" +
"h - delStr.length == $(\"#rightAnswerList input[type=\'text\']\").length) {\r\n       " +
"     if ($(\"#txtQuestionAnswerKeys\").val().trim().split(\' \').length == newStr.le" +
"ngth - delStr.length) {\r\n                var flag = true;\r\n                var a" +
"nswerStr = \'\';\r\n                $(\"#rightAnswerList input[type=\'text\']\").each(fu" +
"nction() {\r\n                    if ($(this).val() == \"\")\r\n                      " +
"  flag = false;\r\n                    else {\r\n                        answerStr +" +
"= answerStr == \"\" ? $(this).val() : (\'!!%%!!\' + $(this).val());\r\n               " +
"     }\r\n                });\r\n                $(\"#txtQuestionAnswer\").val(answerS" +
"tr);\r\n                if (!flag)\r\n                    return false;\r\n           " +
"     if ($(\"#txtQuestionAnswer\").val() != \"\")\r\n                    return true;\r" +
"\n                else\r\n                    return false;\r\n            } else {\r\n" +
"                3(\'关键词的个数与空格的个数不一致\', 3);\r\n                //art.dialog({ title: " +
"\'");


            
            #line 109 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                  Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: \'关键词的个数与空格的个数不一致\', width: 400, height: 50, fixed: true, lock: true, t" +
"ime: 5000 });\r\n                return false;\r\n            }\r\n        } else {\r\n " +
"           3(\'");


            
            #line 113 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
          Write(Question.Question_QuestionManage_Tip_BlankNumberIsOK);

            
            #line default
            #line hidden
WriteLiteral("\', 3);\r\n            //art.dialog({ title: \'");


            
            #line 114 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                              Write(CommonLanguage.Common_Tip);

            
            #line default
            #line hidden
WriteLiteral("\', content: \'");


            
            #line 114 "..\..\Views\Question\QuestionFillblankEdit.cshtml"
                                                                     Write(Question.Question_QuestionManage_Tip_BlankNumberIsOK);

            
            #line default
            #line hidden
WriteLiteral("！\', width: 400, height: 50, fixed: true, lock: true, time: 5000 });\r\n            " +
"return false;\r\n        }\r\n    }\r\n</script>");


        }
    }
}
#pragma warning restore 1591
