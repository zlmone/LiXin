#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.544
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace LiXinExam.Views.Examination
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.3.2.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Examination/ReEvaluation.cshtml")]
    public class ReEvaluation : System.Web.Mvc.WebViewPage<dynamic>
    {
        public ReEvaluation()
        {
        }
        public override void Execute()
        {

            
            #line 1 "..\..\Views\Examination\ReEvaluation.cshtml"
  
    ViewBag.Title = "人工复评";
    Layout = "~/Views/Shared/_Layout.cshtml";


            
            #line default
            #line hidden
WriteLiteral("<style type=\"text/css\">\r\n.list label{ overflow:hidden}\r\n</style>\r\n<script src=\"");


            
            #line 8 "..\..\Views\Examination\ReEvaluation.cshtml"
        Write(Url.Content("~/Scripts/ckplayer5.8/ckplayer.js"));

            
            #line default
            #line hidden
WriteLiteral("\" type=\"text/javascript\"> </script>\r\n");


            
            #line 9 "..\..\Views\Examination\ReEvaluation.cshtml"
Write(Html.Action("SiteMapLink", "Common", new { linkName = "ReEvaluation" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n<input type=\"hidden\" id=\"txt_examUserId\" name=\"name\" value=\"0\" />\r\n<div class=\"" +
"fl\" style=\"width:25%;\">\r\n<fieldset class=\"chooseList\">\r\n    <div class=\"search_b" +
"ox\">\r\n        <div class=\"clb\">\r\n            <input type=\"button\" value=\"查询\" onc" +
"lick=\" searchUser() \" class=\"Btn Btn_blue\" />\r\n            <p><label>部门: </label" +
"><input type=\"text\" name=\"\" value=\"\" id=\"txt_deptName\" class=\"Box Raster_10\" /><" +
"/p>\r\n            <p><label>姓名: </label><input type=\"text\" name=\"UserName\" id=\"tx" +
"t_userName\" value=\"\" class=\"Box Raster_10\" /></p>\r\n        </div>\r\n    </div>\r\n " +
"   <div id=\"div_userList\" class=\"list\">\r\n    </div>\r\n</fieldset></div>\r\n<div cla" +
"ss=\"fr\" style=\"width:73%;\">\r\n    <div class=\"TitClass_line\">\r\n        <span>总得分:" +
" <strong id=\"lblTotalScore\" class=\"c_blue f16\"></strong></span>\r\n        <h2><la" +
"bel id=\"lblExamTitle\"></label></h2>\r\n    </div>\r\n    <div class=\"qView\">\r\n      " +
"  <div id=\"div_userAnswerCase\" class=\"info c_bold\"></div>\r\n        <div id=\"div_" +
"examQuestionType\" class=\"info\"></div>\r\n    </div>\r\n    <div id=\"div_examAnswer\" " +
"style=\"height:400px;overflow-y:auto;\"></div>\r\n    <div class=\"mTop_1 tc\">\r\n     " +
"   <input type=\"button\" value=\"保存\" id=\"btnSave\" onclick=\" SaveReEvaluation() \" c" +
"lass=\"Btn Btn_blue\" />\r\n        <input type=\"button\" name=\"name\" value=\"返回\" oncl" +
"ick=\" ReBack() \" class=\"Btn Btn_white\" />\r\n    </div>\r\n</div>\r\n<script type=\"tex" +
"t/x-jsRender\" id=\"examAnswerTemplate\">\r\n{{for #data}}\r\n<div class=\"QSingle\">\r\n  " +
"  <div class=\"title\">{{:QOrder}}. {{:QuestionContent}}</div>\r\n    <div class=\"co" +
"ntent\">{{:UserAnswer}}\r\n    <div class=\"ok mTop_1\">\r\n    <p><strong>正确答案: </stro" +
"ng><span>{{:QuestionAnswer}}</span></p>\r\n    <p><strong>该题得分: </strong><input ty" +
"pe=\"text\" id=\"txtQOrder_{{:QOrder}}\" onchange=\"changeScore({{:QOrder}},{{:UserGe" +
"tScore}})\" value=\"{{:UserGetScore}}\" class=\"Box Raster_3 tc\" /> / <label id=\"lbl" +
"_{{:QOrder}}\">{{:QuestionScore}}</label></p></div>\r\n    </div>\r\n</div>\r\n{{/for}}" +
"\r\n</script>\r\n<script type=\"text/x-jsRender\" id=\"userTemplate\">\r\n{{for #data}} \r\n" +
"<label onclick=\"reEvaluationDetial({{:examUserId}},{{:doExamStatus}},this)\" styl" +
"e=\'height:16px\' title=\'{{:Username}}\' >{{:Username.length>7?Username.substring(0" +
",7)+\"…\":Username}}</label>\r\n{{/for}}\r\n</script>\r\n<script type=\"text/javascript\">" +
"\r\n\r\n    $(document).ready(function() {\r\n        $(\"#btnSave\").hide();\r\n        I" +
"nitUserList();\r\n    });\r\n\r\n    function searchUser() {\r\n        InitUserList();\r" +
"\n    }\r\n\r\n    function reEvaluationDetial(examUserId, doExamStatus, obj)\r\n    {\r" +
"\n        $(\".chooseList .list label\").removeClass(\"chooselabel\");\r\n        $(obj" +
").addClass(\"chooselabel\");\r\n        if (doExamStatus == 2) {\r\n            $(\"#bt" +
"nSave\").show();\r\n            InitEvaluationDetial(examUserId);\r\n        } else {" +
"\r\n            //art.dialog({ content: \"该考生尚未进行考试！\",time:3 });\r\n            art.d" +
"ialog.tips(\"该考生尚未进行考试\", 3);\r\n            $(\"#btnSave\").hide();\r\n        }\r\n   " +
"    \r\n\r\n    }\r\n\r\n    function InitUserList() {\r\n        var url = \"/Examination/" +
"GetAllSendStudentByExamId?userName=\" + escape($(\"#txt_userName\").val()) + \"&dept" +
"Name=\" + escape($(\"#txt_deptName\").val()) + \"&Id=");


            
            #line 83 "..\..\Views\Examination\ReEvaluation.cshtml"
                                                                                                                                                            Write(ViewBag.ExamId);

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        $(\"#div_userList\").JsRenderData({\r\n            sourceUrl: url,\r\n     " +
"       isPage: false,\r\n            templateID: \'userTemplate\'\r\n        });\r\n    " +
"}\r\n\r\n    function InitEvaluationDetial(examUserId) {\r\n        $(\"#txt_examUserId" +
"\").val(examUserId);\r\n        var url = \"/Examination/GetReStudentExamAnswerByExa" +
"mUserId?examUserId=\" + examUserId;\r\n        $(\"#div_examAnswer\").JsRenderData({\r" +
"\n            sourceUrl: url,\r\n            isPage: false,\r\n            //        " +
"    pageSize: 10,\r\n            //            pageIndex: 1,\r\n            template" +
"ID: \'examAnswerTemplate\',\r\n            funCallback: function (data)\r\n           " +
" {\r\n                $(\"#div_examQuestionType\").html(data.questionTypeHtml);\r\n   " +
"             $(\"#div_userAnswerCase\").html(data.answerCaseHtml);\r\n              " +
"  $(\"#lblExamTitle\").html(\"\" + data.examTitle + \"\");\r\n                $(\"#lblTot" +
"alScore\").html(data.totalScore);\r\n                player();\r\n            }\r\n    " +
"    });\r\n    }\r\n\r\n    function changeScore(QOrder, getScore) {\r\n        var inpu" +
"tScore = $(\"#txtQOrder_\" + QOrder).val();\r\n        var maxscore = $(\"#lbl_\" + QO" +
"rder).html();\r\n        if ($.trim(inputScore)==\"\") {\r\n            //art.dialog({" +
" content: \"分数不能为空！\", time: 3 });\r\n            art.dialog.tips(\"分数不能为空\", 3);\r\n " +
"           $(\"#txtQOrder_\" + QOrder).val(getScore);\r\n            return;\r\n      " +
"  }\r\n        if (!isNaN(inputScore)) {\r\n            var valdateTag = /^[-]{0,1}[" +
"0-9]{1,}$/;\r\n         \r\n        if (!valdateTag.test(inputScore)) {\r\n           " +
" //art.dialog({ content: \"请输0到\" + maxscore + \"之间的整数！\", time: 3 });\r\n            " +
"art.dialog.tips(\"请输0到\" + maxscore + \"之间的整数\", 3);\r\n                $(\"#txtQOrde" +
"r_\" + QOrder).val(getScore);\r\n                return;\r\n            }\r\n          " +
"  if (parseInt(inputScore) < 0) {\r\n                //art.dialog({ content: \"请输0到" +
"\" + maxscore + \"之间的整数！\", time: 3 });\r\n                art.dialog.tips(\"请输0到\" + m" +
"axscore + \"之间的整数\", 3);\r\n                $(\"#txtQOrder_\" + QOrder).val(getScore" +
");\r\n                return;\r\n            }\r\n\r\n            if (parseInt(inputScor" +
"e) > maxscore) {\r\n                //art.dialog({ content: \"请输0到\" + maxscore + \"之" +
"间的整数！\", time: 3 });\r\n                art.dialog.tips(\"请输0到\" + maxscore + \"之间的整数\"" +
", 3);\r\n                $(\"#txtQOrder_\" + QOrder).val(getScore);\r\n             " +
"   return;\r\n            }\r\n        } else {\r\n            //art.dialog({ content:" +
" \"请输0到\" + maxscore + \"之间的整数！\", time: 3 });\r\n            art.dialog.tips(\"请输0到\" +" +
" maxscore + \"之间的整数\", 3);\r\n            $(\"#txtQOrder_\" + QOrder).val(getScore);" +
"\r\n            return;\r\n        }\r\n    }\r\n\r\n    function SaveReEvaluation() {\r\n  " +
"      var idArray = $(\"input[id^=\'txtQOrder_\']\");\r\n        var strQOrderScore = " +
"\"\";\r\n        for (var i = 0; i < idArray.length; i++) {\r\n            var strOrde" +
"r = idArray[i].id;\r\n            var index = strOrder.indexOf(\"_\");\r\n            " +
"var intOrder = strOrder.substring(index + 1);\r\n            strQOrderScore = strQ" +
"OrderScore + intOrder + \",\" + $(\"#\" + strOrder).val() + \";\";\r\n        }\r\n       " +
" $.post(\"/Examination/SubmitSaveReEvaluation?examUserId=\" + $(\"#txt_examUserId\")" +
".val() + \"&qorderScore=\" + strQOrderScore, function(data) {\r\n            if (dat" +
"a.result == 1) {\r\n                $(\"#div_userAnswerCase\").html(data.answerCaseH" +
"tml);\r\n                $(\"#lblTotalScore\").html(data.totalScore);\r\n            }" +
"\r\n            art.dialog({ content: data.content, time: 3 });\r\n        });\r\n    " +
"}\r\n\r\n    function ReBack() {\r\n        window.location.href = \'/Examination/ReEva" +
"luationList\';\r\n    }\r\n\r\n    function player()\r\n    {\r\n        $(\"input[name=\'Flv" +
"Name\']\").each(function ()\r\n        {\r\n            ckplay($(this).val());\r\n      " +
"  });\r\n    }\r\n    function ckplay(name)\r\n    {\r\n\r\n        var url = \'");


            
            #line 182 "..\..\Views\Examination\ReEvaluation.cshtml"
              Write(Url.Content("~/ClientBin/UploadFile/"));

            
            #line default
            #line hidden
WriteLiteral("\' + name;\r\n        var id = name.substring(0, name.length - 4);\r\n        var s1 =" +
" new swfupload();\r\n        s1.ckplayer_url = \'");


            
            #line 185 "..\..\Views\Examination\ReEvaluation.cshtml"
                      Write(Url.Content("~/Scripts/ckplayer5.8/ckplayer.swf"));

            
            #line default
            #line hidden
WriteLiteral(@"'; //播放器文件名
        s1.ckplayer_flv = url; //视频地址,这里也可以填写一个网址或xml地址或flash文件,具体的设置请到网站了解
        s1.ckplayer_pat = '1'; //传递的参数,这里的具体参数设置方式到网站了解
        s1.ckplayer_style = 0; //传递的方式,0是普通方式，1是网址传送，2是xml传送，3是flash传送
        s1.ckplayer_default = 0; //读取文本配置，此参数具有非常强大的功能，（比如外站引用视频只需一个参数即可）说来话长，请到网站了解详情
        s1.ckplayer_xml = ''; //风格配置xml文件，如果为空的话将使用js文件配置
        s1.ckplayer_loadimg = ''; //初始图片地址
        s1.ckplayer_pauseflash = ''; //暂停时播放的广告，只支持flash和图片
        s1.ckplayer_pauseurl = ''; //暂停时播放图片时需要加一个链接
        s1.ckplayer_loadadv = ''; //视频开始前播放的广告，可以是flash,也可是视频格式
        s1.ckplayer_loadurl = ''; //视频开始前广告的链接地址，主要针对视频广告，如果是flash可以不填写
        s1.ckplayer_loadtime = 0; //视频开始前广告播放的秒数,只针对flash或图片有效
        s1.ckplayer_endstatus = 2; //视频结束后的动作，0停止播放并发送js,1是不发送js且重新循环播放,2停止播放
        s1.ckplayer_volume = 40; //视频默认音量0-100之间
        s1.ckplayer_play = 0; //视频默认播放还是暂停，0是暂停，1是播放
        s1.ckplayer_width = 300; //播放器宽度
        s1.ckplayer_height = 150; //播放器高度
        s1.ckplayer_bgcolor = '#000000'; //播放器背景颜色
        s1.ckplayer_allowFullScreen = true; //是否支持全屏，true支持，false不支持，默认支持
        s1.swfwrite(id); //div的id

    }
</script>");


        }
    }
}
#pragma warning restore 1591
